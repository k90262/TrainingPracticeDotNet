<html>

    <head>
        <meta charset="UTF-8">

        <style>
            td {
                width: 50px;
                height: 50px;
                background-color: lightpink;
                font-size: 32px;
                text-align: center;
            }

            .current {
                background-color: chocolate;
            }
        </style>

        <script src="jquery-3.4.1.min.js"></script>

        <script>

            var w = 8;
            var h = 6;

            $(function () {
                for (var i = 0; i < h; i++) {
                    var tr = $("<tr/>");
                    for (var j = 0; j < w; j++) {
                        $("<td/>").appendTo(tr);
                    }
                    tr.appendTo("#t1");
                }
                // alert("OK"); // make sure not in loop
                // $("#t1").hide("slow");
                // $("#t1 tr").hide("slow");
                // $("#t1 tr:gt(0)").hide("slow");
                // $("#t1 tr:gt(0):lt(6)").hide("slow");
                // $(`#t1 tr:gt(0):lt(6)`).hide("slow"); // allow using var
                // $(`#t1 tr:gt(0):lt(${6})`).hide("slow"); // allow using var and use it with a constant value
                // $(`#t1 tr:gt(0):lt(${h-2})`).hide("slow"); // allow using var and use it 
                // $(`#t1 tr:gt(0):lt(${h-2}) td`).hide("slow"); // hide td only
                // $(`#t1 tr:gt(0):lt(${h-2}) td:gt(4)`).hide("slow"); // hide td of some columns only (failure case, elements is be totalize, and not )
                // $(`#t1 tr:gt(0):lt(${h-2}) td`).hide("slow"); // hide td of some columns only (rollback)
                $(`#t1 tr:gt(0):lt(${h-2})`).each(function() {
                    // alert("OK");
                    // $(this).css("background-color", "blue"); // should remove td css at first
                    // $(this).find("td").css("background-color", "black"); // just test for overfide td style
                    // $(this).hide("slow");
                    // $(this).find("td").text("AA"); // test td we will delete by mark with text
                    // $(this).find("td:gt(1)").text("AA"); // test td of colums we will delete by mark with text
                    $(this).find("td:gt(1)").remove();
                });

                /* assign number into cell */
                $("#t1 tr:first td").each(function(i) {
                    $(this).text(i+1);
                });

                $("#t1 tr:last td").each(function(i) {
                    $(this).text(2*w+h-2-i);
                });

                $(`#t1 tr:gt(0):lt(${h-2})`).each(function(i) {
                   $(this)
                        .find("td:last").text(w+1+i)
                        .prev().text(2*w+2*h-4-i);
                });

                /* sorted td as array */
                var sorted = $("#t1 td").sort(function(a, b) { // sorted td by innertext of td DOM
                    var x = parseInt(a.innerText);
                    var y = parseInt(b.innerText);
                    return x-y;
                });

                for(var i=0; i<sorted.length; i++) { // test the result of sorted
                    sorted[i].innerText =i+5;
                }
                // $("#t1 tr:eq(1)").hide("slow"); // make sure we select the 2nd row we want
                // $("#t1 tr:eq(1) td:first").hide("slow"); // make sure we select the first td of the 2nd row
                // $("<td />").text("AA").insertAfter($("#t1 tr:eq(1) td:first")); // insert a td after the first td of the 2nd row
                // $(`<td colspan="4" rowspan="5"/>`).text("AA").insertAfter($("#t1 tr:eq(1) td:first")); // insert a td after the first td of the 2nd row
                // $(`<td colspan="${6}" rowspan="${6}"/>`).text("AA").insertAfter($("#t1 tr:eq(1) td:first")); // insert a td with format string 
                $(`<td colspan="${w-2}" rowspan="${h-2}"/>`).insertAfter($("#t1 tr:eq(1) td:first")); // insert a td with format string with var
            
                $("#btn").click(function() {
                    // alert("A");
                    var i = 0;
                    setInterval(() => {
                        $(sorted[i]).removeClass("current");
                        i++;
                        if (i >= sorted.length) i = 0;
                        $(sorted[i]).addClass("current");
                    }, 100);
                });

            });

        </script>

    </head>

    <body>
        <button id="btn">按我</button><br/>
        <table border="1" id="t1">

        </table>
    </body>

</html>